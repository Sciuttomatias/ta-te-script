<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

        <title>TA-TE-SCRIPT</title>
    </head>
    <body class="text-center">
        <h1 class="p-3 m-3 display-4">TA-TE-SCRIPT</h1>
        <main class="container">
            <!-- Fila #1 -->
            <section class="row">

                <div class="col-4 p-3">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>
                <div class="col-4 p-3 border-left border-right">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>
                <div class="col-4 p-3">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>

            </section>
            <!-- Fila #2 -->
            <section class="row border-top border-bottom">
                
                <div class="col-4 p-3">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>
                <div class="col-4 p-3 border-left border-right">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>
                <div class="col-4 p-3">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>

            </section>
            <!-- Fila #3 -->
            <section class="row">
                
                <div class="col-4">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>
                <div class="col-4 border-left border-right">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>
                <div class="col-4">
                    <button type="button" class="btn btn-outline-dark w-25">?</button>
                </div>

            </section>
        </main>
    </body>
    <script>
        const botones = document.querySelectorAll("button")
        let cantidadJugadas = 0
        let jugadas = []

        console.log(botones)

        const elijePC = () => {
            let randomPC 
            do {
                randomPC = parseInt(Math.random() * 9)
                console.log(randomPC)
            } while( botones[randomPC].getAttribute("disabled") == "true" )

            botones[randomPC].setAttribute("disabled", true)
            botones[randomPC].innerHTML = "O"
            botones[randomPC].classList.add("btn-secondary")
            botones[randomPC].classList.remove("btn-outline-dark")
            
            let jugadaPC = {
                    "jugador" : "",
                    "casilla" : "",
                    "simbolo" : ""
            }
            jugadaPC.jugador = "Computadora"
            jugadaPC.casilla = randomPC
            jugadaPC.simbolo = "O"

            jugadas.push(jugadaPC)
        }

        botones.forEach(boton => {
            boton.onclick = (evento) => {
                boton.setAttribute("disabled", true)
                boton.innerHTML = "X"
                boton.classList.add("btn-primary")
                boton.classList.remove("btn-outline-dark")

                console.log(evento)

                //log de jugadas
                let jugada = {
                    "jugador" : "",
                    "casilla" : "",
                    "simbolo" : ""
                }
                jugada.jugador = "Humano"
                jugada.casilla = Array.from(botones).indexOf(boton)
                jugada.simbolo = "X"

                jugadas.push(jugada)

                console.log(jugadas)

                // verificar cuantos quedan libres
                cantidadJugadas += 1

                if( cantidadJugadas < 5 ){
                    elijePC()
                }
                else{
                    console.log(jugadas)
                }
            }
        })



    </script>
</html>